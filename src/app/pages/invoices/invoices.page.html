<ion-header [translucent]="true">
  <ion-toolbar class="ion-text-center" color="light">
    <ion-buttons slot="start">
      <ion-back-button href="/dashboard"></ion-back-button>
    </ion-buttons>

    <ion-title>Invoices</ion-title>

    <ion-buttons slot="end">
      <ion-menu-button menu="main-menu">
      </ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-slides class="scale-up-ver-center" mode="ios" pager="true" scrollbar="ios">
    <ion-slide class="invoice" *ngFor="let invoice of invoices | async">
      <ion-card class="todas" (click)="presentActionSheet(invoice)">
        <ion-grid fixed>
          <ion-row>
            <ion-col class="check" *ngIf="invoice.estado; else pendiente" size="4">
              <img src="../../../assets/resources/cheque.png" alt="Check" />
            </ion-col>
            <ng-template #pendiente>
              <ion-col class="check">
                <img src="../../../assets/resources/boton-x.png" alt="NoCheck" />
              </ion-col>
            </ng-template>
            <ion-col class="info" size="8">
              <h6>Prov: {{invoice.proveedor}}</h6>
              <h6>Date: {{invoice.fecha}}</h6>
              <h6>Total: {{invoice.cantidad | currency:'EUR'}}</h6>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card>
    </ion-slide>
  </ion-slides>
  <div class="espacio"></div>
  <ion-button
    class="estado"
    *ngIf="estado; else pendientes"
    (click)="invoiceStatus(true)"
    expand="block"
    fill="solid"
    color="light">
    <ion-label>Pendientes</ion-label>
  </ion-button>
  <ng-template #pendientes>
    <ion-button class="estado" (click)="invoiceStatus(false)" expand="block" fill="solid" color="success">
      <ion-label>Pagadas</ion-label>
    </ion-button>
  </ng-template>

  <!-- Listado de facturas por estado -->
  <ion-card>
    <ion-row class="header">
      <ion-col col-3>
        <ion-label>Proveedor</ion-label>
      </ion-col>
      <ion-col col-3>
        <ion-label>Fecha</ion-label>
      </ion-col>
      <ion-col col-3>
        <ion-label>Codigo</ion-label>
      </ion-col>
      <ion-col col-3>
        <ion-label>Cantidad</ion-label>
      </ion-col>
    </ion-row>
    <ion-row class="invoice" *ngFor="let invoice of invoicesFilter" (click)="presentActionSheet(invoice)">
      <ion-col col-3>
        <ion-label> {{invoice.proveedor}}</ion-label>
      </ion-col>
      <ion-col col-3>
        <ion-label> {{invoice.fecha | date: 'dd/MM/yy'}} </ion-label>
      </ion-col>
      <ion-col col-3>
        <ion-label> {{invoice.codigo}}</ion-label>
      </ion-col>
      <ion-col col-3>
        <ion-label> {{invoice.cantidad | currency : 'EUR' : 'symbol' : '1.2-2'}}</ion-label>
      </ion-col>
    </ion-row>
  </ion-card>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button color="light">
      <ion-icon name="add" (click)="goToEditInvoice()"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
